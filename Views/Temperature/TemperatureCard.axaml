<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ORControlPanelNew.ViewModels.Temperature"
             xmlns:converters="using:ORControlPanelNew.Converters"
             mc:Ignorable="d" d:DesignWidth="440" d:DesignHeight="240"
             x:Class="ORControlPanelNew.Views.Temperature.TemperatureCard"
             x:DataType="vm:TemperatureViewModel">

	<UserControl.Resources>
		<LinearGradientBrush x:Key="CardBlueGradient" StartPoint="0,0" EndPoint="1,0">
			<GradientStop Color="#B0B0B0" Offset="0"/>
			<GradientStop Color="#444444" Offset="1"/>
		</LinearGradientBrush>
		<LinearGradientBrush x:Key="TabBlueGradient" StartPoint="0,0" EndPoint="0,1">
			<GradientStop Color="#B3E5FC" Offset="0"/>
			<GradientStop Color="#2196F3" Offset="1"/>
		</LinearGradientBrush>
		<LinearGradientBrush x:Key="ValueYellowGradient" StartPoint="0,0" EndPoint="0,1">
			<GradientStop Color="#FFD700" Offset="0"/>
			<GradientStop Color="#FFA500" Offset="1"/>
		</LinearGradientBrush>
		<converters:HepaStatusToBarWidthConverter x:Key="HepaStatusToBarWidthConverter"/>
		<converters:HepaPercentageToBarWidthConverter x:Key="HepaPercentageToBarWidthConverter"/>
		<converters:HepaPercentageToBrushConverter x:Key="HepaPercentageToBrushConverter"/>
	</UserControl.Resources>
	
	<StackPanel>
	<Border Background="#181A1B" CornerRadius="16" Padding="24" BorderBrush="#444" BorderThickness="2"  Width="440" HorizontalAlignment="Stretch" VerticalAlignment="Center">
		<StackPanel>
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="8" Margin="0,0,0,16" HorizontalAlignment="Left">
				<Image Source="avares://ORControlPanelNew/Assets/Icons/air press.png" Width="22" Height="22" VerticalAlignment="Center"/>
				<TextBlock Text="AIR CONDITION SYSTEM" Foreground="White" FontSize="13" FontWeight="Bold" VerticalAlignment="Center"/>
			</StackPanel>
			<Grid HorizontalAlignment="Stretch">
				<StackPanel Spacing="18" VerticalAlignment="Center" HorizontalAlignment="Stretch">
					<!-- Temperature Card -->
					<Border Background="{StaticResource CardBlueGradient}" CornerRadius="14" Padding="4"  Margin="0,0,0,8" HorizontalAlignment="Stretch" MinWidth="0" Height="100">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto"/>
								<RowDefinition Height="*"/>
							</Grid.RowDefinitions>
							<!-- Notched tab -->
							<Border Grid.Row="0" Background="#90CAF9" CornerRadius="12,12,0,0" Padding="18,0" HorizontalAlignment="Left" Margin="24,0,0,0" MinWidth="120">
								<TextBlock Text="Temperature" FontSize="13" Foreground="#222" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
							</Border>
							<!-- Value area -->
							<Grid Grid.Row="1" ColumnDefinitions="Auto,*,Auto"  VerticalAlignment="Center">
								<Button Command="{Binding DecTempCommand}" Content="-" Width="60" Height="60" Margin="8,0,0,0" FontSize="34" FontWeight="Bold" Background="#263238" Foreground="White" CornerRadius="30" VerticalAlignment="Center"/>
								<Border Grid.Column="1" Background="#FFE082" CornerRadius="8" Margin="8,0" VerticalAlignment="Center" HorizontalAlignment="Center" Width="170">
									<TextBlock Text="{Binding Temperature, StringFormat='{}{0} Â°C'}" FontSize="24" FontWeight="Bold" Foreground="#333" VerticalAlignment="Center" HorizontalAlignment="Center"/>
								</Border>
								<Button Command="{Binding IncTempCommand}" Grid.Column="2" Content="+" Width="60" Height="60" Margin="0,0,8,0" FontSize="34" FontWeight="Bold" Background="#263238" Foreground="White" CornerRadius="30" VerticalAlignment="Center"/>
							</Grid>
						</Grid>
					</Border>

					<!-- Humidity Card -->
					<Border Background="{StaticResource CardBlueGradient}"  Padding="4" CornerRadius="14" Margin="0,0,0,8" HorizontalAlignment="Stretch" MinWidth="0" Height="100">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto"/>
								<RowDefinition Height="*"/>
							</Grid.RowDefinitions>
							<Border Grid.Row="0" Background="#90CAF9" CornerRadius="12,12,0,0" Padding="18,0" HorizontalAlignment="Left" Margin="24,0,0,0"  MinWidth="140">
								<TextBlock Padding="2" Text="Humidity" FontSize="13" Foreground="#222" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
							</Border>
							<Grid Grid.Row="1" ColumnDefinitions="Auto,*,Auto"  VerticalAlignment="Center">
								<Button Command="{Binding DecHumdCommand}" Content="-"  Width="60" Height="60"  Margin="8,0,0,0" FontSize="34" FontWeight="Bold" Background="#263238" Foreground="White" CornerRadius="30" VerticalAlignment="Center"/>
								<Border Grid.Column="1" Background="#FFE082" CornerRadius="8" Margin="8,0" VerticalAlignment="Center" HorizontalAlignment="Center" Width="170">
									<TextBlock  Padding="2" Text="{Binding Humidity, StringFormat='{}{0} RH%'}" FontSize="24" FontWeight="Bold" Foreground="#333" VerticalAlignment="Center" HorizontalAlignment="Center"/>
								</Border>
								<Button Command="{Binding IncHumdCommand}" Grid.Column="2" Content="+" Width="60" Height="60"  Margin="0,0,8,0" FontSize="34" FontWeight="Bold" Background="#263238" Foreground="White" CornerRadius="30" VerticalAlignment="Center"/>
							</Grid>
						</Grid>
					</Border>

					<!-- Room Pressure Card -->
					<Border Background="{StaticResource CardBlueGradient}"  Padding="4" CornerRadius="14"  Margin="0,0,0,8" HorizontalAlignment="Stretch" MinWidth="0" Height="100">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto"/>
								<RowDefinition Height="*"/>
							</Grid.RowDefinitions>
							<Border Grid.Row="0" Background="#90CAF9" CornerRadius="12,12,0,0" Padding="18,0" HorizontalAlignment="Left" Margin="24,0,0,0" MinWidth="140">
								<TextBlock Padding="2" Text="Room Pressure" FontSize="13" Foreground="#222" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
							</Border>
							<Grid Grid.Row="1" ColumnDefinitions="Auto,*,Auto"  VerticalAlignment="Center">
								<Border Grid.Column="1" Background="#FFE082" CornerRadius="8" Margin="8,0" VerticalAlignment="Center" HorizontalAlignment="Center" Width="170">
									<TextBlock Padding="2" Text="{Binding AirDiffPressure, StringFormat='{}{0} PA'}" FontSize="24" FontWeight="Bold" Foreground="#333" VerticalAlignment="Center" HorizontalAlignment="Center"/>
								</Border>
							</Grid>
						</Grid>
					</Border>

					<!-- HEPA Filter Card (status bar style) -->
					<Border Background="{StaticResource CardBlueGradient}" Padding="4" CornerRadius="14" Margin="0,0,0,8" HorizontalAlignment="Stretch" MinWidth="0" Height="100">
						<Grid>
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto"/>
								<RowDefinition Height="*"/>
							</Grid.RowDefinitions>
							<Border Grid.Row="0" Background="#90CAF9" CornerRadius="12,12,0,0" Padding="18,0" HorizontalAlignment="Left" Margin="24,0,0,0" MinWidth="140">
								<TextBlock Padding="2" Text="HEPA Filter" FontSize="13" Foreground="#222" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
							</Border>
							<Grid Grid.Row="1" ColumnDefinitions="Auto,*,Auto" VerticalAlignment="Center">
								<Grid Grid.Column="1" Width="170" Height="38" Margin="8,0" VerticalAlignment="Center" HorizontalAlignment="Center">
									<!-- Bar background -->
									<Border Background="#333" CornerRadius="8"/>
									<!-- Status fill -->
									<Border CornerRadius="8" 
											Background="{Binding HepaPercentage, Converter={StaticResource HepaPercentageToBrushConverter}}"
											HorizontalAlignment="Left"
											Width="{Binding HepaPercentage, Converter={StaticResource HepaPercentageToBarWidthConverter}}"/>
									<!-- Status text -->
									<TextBlock Text="{Binding HepaPercentage, StringFormat='{}{0:F0}%'}" FontSize="20" FontWeight="Bold" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Center"/>
								</Grid>
							</Grid>
						</Grid>
					</Border>

				</StackPanel>

				

			</Grid>
		</StackPanel>
	</Border>

	

	<!-- UPS Status -->
	

	</StackPanel>

</UserControl>
