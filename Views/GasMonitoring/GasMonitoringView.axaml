<UserControl xmlns="https://github.com/avaloniaui"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:vm="using:ORControlPanelNew.ViewModels.GasMonitoring"
            xmlns:models="using:ORControlPanelNew.Models.GasMonitoring"
            xmlns:converters="using:ORControlPanelNew.Converters"
            x:Class="ORControlPanelNew.Views.GasMonitoring.GasMonitoringView"
            x:DataType="vm:GasMonitoringViewModel">

	<UserControl.Styles>
		<Style Selector="Button.actionButton">
			<Setter Property="Background" Value="#4A4A4A"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="Padding" Value="10,5"/>
			<Setter Property="CornerRadius" Value="4"/>
			<Setter Property="FontSize" Value="13"/>
			<Setter Property="Transitions">
				<Transitions>
					<BrushTransition Property="Background" Duration="0:0:0.2"/>
				</Transitions>
			</Setter>
		</Style>
		<Style Selector="Button.actionButton:pointerover /template/ ContentPresenter">
			<Setter Property="Background" Value="#5A5A5A"/>
		</Style>
		<Style Selector="Button.actionButton:pressed /template/ ContentPresenter">
			<Setter Property="Background" Value="#3A3A3A"/>
		</Style>
		<Style Selector="TextBlock.metricLabel">
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
			<Setter Property="Margin" Value="0,0,10,0"/>
		</Style>
		<Style Selector="TextBlock.metricValue">
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="FontSize" Value="12"/>
			<Setter Property="VerticalAlignment" Value="Center"/>
		</Style>
	</UserControl.Styles>

	<Design.DataContext>
		<vm:GasMonitoringViewModel />
	</Design.DataContext>

	<Border Background="#181A1B" CornerRadius="16" Padding="0" BorderBrush="#444" BorderThickness="2" Margin="0,0,0,0" Width="440" Height="580">
		<StackPanel>
			<!-- Top Bar -->
			<Border>
				<Border.Background>
					<LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
						<GradientStop Color="#444" Offset="0"/>
						<GradientStop Color="#222" Offset="1"/>
					</LinearGradientBrush>
				</Border.Background>
				<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="8">
					<TextBlock Text="🧪" FontSize="18" VerticalAlignment="Center"/>
					<TextBlock Text="MEDICAL GAS STATUS" Foreground="White" FontWeight="Bold" FontSize="15" VerticalAlignment="Center"/>
				</StackPanel>
			</Border>
			<!-- Gases Two-Column Grid -->
			<ItemsControl ItemsSource="{Binding Gases}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
				<ItemsControl.ItemsPanel>
					<ItemsPanelTemplate>
						<WrapPanel Orientation="Horizontal" ItemWidth="200" ItemHeight="60" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
					</ItemsPanelTemplate>
				</ItemsControl.ItemsPanel>
				<ItemsControl.ItemTemplate>
					<DataTemplate x:DataType="models:GasStatus">
						<StackPanel Orientation="Horizontal" Margin="12,12,0,0" Spacing="10" VerticalAlignment="Center" Width="150">
							<TextBlock Text="{Binding Name}" Foreground="White" FontSize="14" Margin="0,0,8,0"/>
							<Border Height="18" Width="80" CornerRadius="8" Background="{Binding IsAlert, Converter={StaticResource BoolToBrushConverter}, ConverterParameter='true:ErrorBrush|false:OkBrush'}"/>
						</StackPanel>
								</Grid>
							</Border>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
			<!-- Legend -->
			<StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Spacing="24" Margin="24,24,0,0">
				<StackPanel Orientation="Horizontal" Spacing="6" VerticalAlignment="Center">
					<Border Background="#C6E377" Height="12" Width="32" CornerRadius="6"/>
					<TextBlock Text="Normal" Foreground="White" FontSize="12"/>
				</StackPanel>
				<StackPanel Orientation="Horizontal" Spacing="6" VerticalAlignment="Center">
					<Border Background="#D32F2F" Height="12" Width="32" CornerRadius="6"/>
					<TextBlock Text="Exhausted" Foreground="White" FontSize="12"/>
				</StackPanel>
				<StackPanel Orientation="Horizontal" Spacing="6" VerticalAlignment="Center">
					<Border Background="#FFD600" Height="12" Width="32" CornerRadius="6"/>
					<TextBlock Text="Low Pressure" Foreground="White" FontSize="12"/>
				</StackPanel>
			</StackPanel>
			<!-- Simulate Data Button below legend -->
			<Button Classes="actionButton" HorizontalAlignment="Left" Margin="24,18,0,0" Command="{Binding SimulateDataCommand}">
				<StackPanel Orientation="Horizontal" Spacing="6" VerticalAlignment="Center">
					<TextBlock Text="⛔" Foreground="Red" FontSize="16"/>
					<TextBlock Text="Simulate Data" Foreground="White" FontSize="13"/>
				</StackPanel>
			</Button>
		</StackPanel>
			
			</Grid>
		</Grid>
	</Border>
</UserControl>